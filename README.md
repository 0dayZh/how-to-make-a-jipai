# [技术向]我不仅要把极拍 App 源码给你

为什么会有一个叫做极拍的 App 呢？最初是为了测试 Pili 直播业务，后来干脆从界面上和业务逻辑上写的更透彻些，写成了一个基本可以直接上 App Store 的 App。

今天决定将其开源，但还不够，连带后端的实现及 Pili 直播云对接的逻辑一同托出。

## 直播

直播是现阶段很多创业团队在尝试的一个需求点，从媒体运行到美女主播，直播因其时实性和强互动性，具有了与以往录播有别的使用体验。

## 选择

你可以选择自己搭建一台直播服务器，然后自己来从头写一个直播 App；

你也可以选择一个直播云服务，和已有的推流和播放 SDK，分分钟搭建起来一个商用级的直播 App。

显然为了能更快、更好、更专注的解决业务需求，使用公有云服务是最佳实践。这让技术架构更轻便，业务与技术从一开始就清晰分明，聪明的开发者和创业者都会做出正确的选择。

## 架构梳理

在进入具体的编码逻辑前，先从更宏观的角度看一下 App, server 与 Pili Cloud 间的关系，如下图：

![](./workflow.png)

在对接 Pili 直播云中，你会发现，整个直播中核心的一个对象是 `Stream`。它相当于我们传统直播中所说的一路流的概念有些区别，在实际场景中，一个推流端（或一次推流，或一个用户，根据实际业务需求而定）会有它对应的一个 `Stream` 对象。这个 `Stream` 对象通过其 `id` 作为唯一标识。

### 后端

我个人写 node 比较顺手，就以 node 为例来做说明对接过程（仍旧（；￣ェ￣）作为我厂的 iOS 程序员以写 node 而倔强的存活着）。

